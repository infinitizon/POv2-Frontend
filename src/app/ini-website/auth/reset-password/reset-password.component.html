<div class="container">
  <div class="col-md-12 mt-5">
    <div class="auth-image-wrapper">
      <img src="/assets/logo/primary-offer-logo.svg" alt="Primary Logo" height="48">
    </div>
  </div>
  <div class="col-md-12 mt-2">
    <in-backbutton></in-backbutton>
  </div>
  <div class="forgot-password-wrapper d-flex justify-content-center mt-4">
    <div class="forgot-password-content">
      <div class="forgot-password-header title text-center">
        <h2>Enter a new password</h2>
      </div>
      <div class="auth-body mt-5">
        <div class="auth-form-wrapper px-2">
          <form [formGroup]="resetPasswordForm" [autocomplete]="'off'">

            <div class="form-group mt-4">
              <label>Token</label>
              <div class="input mt-1">
                <mat-form-field appearance="outline" class="col-md-12 w-100">
                  <input matInput id="token" name="token" type="number" class="" placeholder=""
                   formControlName="token" (keyup)="controlChanged('token')">
                </mat-form-field>
                <div class="error-wrapper">
                  <span *ngIf="uiErrors.token" class="error">{{uiErrors.token}}</span>
                </div>
              </div>
            </div>
            <div class="form-group mt-4">
              <label>Password</label>
              <div class="input mt-1">
                <mat-form-field appearance="outline" class="col-md-12 w-100">
                  <input matInput id="password" name="password" type="password" class="" placeholder=""
                    autocomplete="new-password" formControlName="password" (keyup)="controlChanged('password')"
                    [type]="container['fieldTextType'] ? 'text' : 'password'">
                  <button (click)=" clearPassword('password')"
                    *ngIf="uiErrors.password || (resetPasswordForm.get('password')?.invalid && resetPasswordForm.get('confirmPassword')?.touched)"
                    type="button" mat-icon-button matSuffix>
                    <i class="ri-close-circle-fill"></i>
                  </button>
                  <button type="button" mat-icon-button matSuffix (click)="showEyes()"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="container['fieldTextType']">
                    <i class="{{container['fieldTextType'] ? 'ri-eye-fill' : 'ri-eye-close-fill'}}"></i>
                  </button>
                  <button
                    *ngIf="!uiErrors.password && resetPasswordForm.get('password')?.touched && resetPasswordForm.get('password')?.valid"
                    type="button" mat-icon-button matSuffix class="text-success">
                    <i class="ri-checkbox-circle-fill"></i>
                  </button>
                </mat-form-field>
                <div class="error-wrapper">
                  <span *ngIf="uiErrors.password" class="error">{{uiErrors.password}}</span>
                </div>
              </div>
            </div>

            <div class="form-group mt-4">
              <label>Confirm Password</label>
              <div class="input mt-1">
                <mat-form-field appearance="outline" class="col-md-12 w-100">
                  <input matInput id="confirmPassword" name="confirmPassword" type="password" class="" placeholder=""
                    autocomplete="new-password" formControlName="confirmPassword"
                    (keyup)="controlChanged('confirmPassword')"
                    [type]="container['fieldTextType'] ? 'text' : 'password'">
                  <button (click)=" clearPassword('confirmPassword')"
                    *ngIf="uiErrors.confirmPassword ||  (resetPasswordForm.get('confirmPassword')?.invalid && resetPasswordForm.get('confirmPassword')?.touched)"
                    type="button" mat-icon-button matSuffix>
                    <i class="ri-close-circle-fill"></i>
                  </button>
                  <button type="button" mat-icon-button matSuffix (click)="showEyes()"
                    [attr.aria-label]="'Hide password'" [attr.aria-pressed]="container['fieldTextType']">
                    <i class="{{container['fieldTextType'] ? 'ri-eye-fill' : 'ri-eye-close-fill'}}"></i>
                  </button>
                  <button
                    *ngIf="!uiErrors.confirmPassword && resetPasswordForm.get('confirmPassword')?.touched && resetPasswordForm.get('confirmPassword')?.valid"
                    type="button" mat-icon-button matSuffix class="text-success">
                    <i class="ri-checkbox-circle-fill"></i>
                  </button>
                </mat-form-field>
                <div class="error-wrapper">
                  <span *ngIf="uiErrors.confirmPassword" class="error ">{{uiErrors.confirmPassword}}</span>
                </div>
              </div>
            </div>
            <div class="button-wrapper mt-3">
              <button type="submit" (click)="onSubmit()" class="submit-btn col-md-12 w-100"
                [disabled]="resetPasswordForm.invalid || submitting">       <span class="d-flex justify-content-center align-items-center w-100">Reset password
                  <app-loader2 *ngIf="submitting"></app-loader2>
                </span>
                  </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
