<div mat-dialog-content class="gateway-wrapper mt-3">
  <mat-spinner *ngIf="container.loading" [diameter]="40"></mat-spinner>
  <mat-stepper
    [linear]="container['linear']"
    #stepper
    *ngIf="!container.loading"
    (selectionChange)="selectionChange($event)"
  >
    <mat-step>
      <div>
        <div class="col-sm-12">
          <div class="d-flex justify-content-center">
            <img src="/assets/logo/lock.svg" class="m-2" />
          </div>
          <h1
            class="mt-1 mb-0 d-flex justify-content-center text-center"
            style="color: var(--secondary); font-size: 18px; font-weight: 500"
          >
            Are you a New or Existing Investor?
          </h1>
          <!-- <small class="text-muted">We need you to add your extra information to further secure your account</small> -->
        </div>
      </div>
      <div mat-dialog-content>
        <form [formGroup]="firstFormGroup">
          <div>
            <div class="form-group mt-3">
              <mat-radio-group
                formControlName="select"
                name="radioButtons"
                (change)="onRadioButtonChangeForInvestor($event)"
              >
                <mat-radio-button id="radio_1" value="new"
                  >New Investor</mat-radio-button
                >
                <mat-radio-button id="radio_2" value="existing"
                  >Existing Investor</mat-radio-button
                >
              </mat-radio-group>
            </div>
          </div>
        </form>
      </div>
      <div class="text-center stepper-actions pt-4 mb-4 px-2">
        <button class="submit" (click)="proceed(stepper)">Continue</button>
      </div>
    </mat-step>

    <mat-step [stepControl]="validateForm">
      <h3 class="mb-0 text-center">Enter your CHN or CSCS</h3>
      <p class="mb-0 text-center chn-text mx-4 mt-2">
        Please enter your Clearing House Number (CHN) or Registrars
        Identification Number (RIN) to check your eligibility.
      </p>
      <mat-progress-bar mode="determinate" value="25"></mat-progress-bar>
      <div mat-dialog-content>
        <form [formGroup]="validateForm">
          <div>
            <div class="form-group mt-3">
              <mat-radio-group
                formControlName="select"
                name="radioButtons"
                (change)="onRadioButtonChange($event)"
              >
                <mat-radio-button id="radio_1" value="chn"
                  >Clearing House Number (CHN)</mat-radio-button
                >
                <mat-radio-button id="radio_2" value="rin"
                  >Registrars Identification Number (CSCS)</mat-radio-button
                >
              </mat-radio-group>
            </div>

            <div class="form-group mt-3">
              <div class="gateway-label d-flex justify-content-between">
                <label>
                  <div>
                    {{ selectionCheck === "chn" ? "CHN" : "RIN"
                    }}<span class="text-danger">*</span>
                  </div>
                </label>
              </div>
              <div class="input mt-1">
                <mat-form-field appearance="outline" class="col-md-12 w-100">
                  <input
                    matInput
                    formControlName="chn"
                    name="chn"
                    type="text"
                    class=""
                    placeholder="Enter {{
                      selectionCheck === 'chn' ? 'CHN' : 'CSCS'
                    }} Number"
                    autocomplete="off"
                    (keyup)="controlChanged(validateForm, 'chn')"
                  />
                </mat-form-field>
                <div class="error-wrapper">
                  <span *ngIf="uiErrors.chn">{{ uiErrors.chn }}</span>
                </div>
                <!-- <mat-spinner
                  *ngIf="container['loadingBankName']"
                  [diameter]="30"
                ></mat-spinner> -->
              </div>
            </div>
          </div>

          <div class="text-center stepper-actions pt-4 mt-2 mb-3">
            <button
              class="submit"
              type="submit"
              (click)="onSubmit()"
              [disabled]="container['loading']"
            >
              <span *ngIf="!container['loading']">Check Eligibility</span>
              <mat-spinner
                *ngIf="container['loading']"
                [diameter]="30"
              ></mat-spinner>
            </button>
          </div>
        </form>
      </div>
    </mat-step>
  </mat-stepper>
</div>
